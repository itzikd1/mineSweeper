(this.webpackJsonpmines_react_js=this.webpackJsonpmines_react_js||[]).push([[0],{46:function(e,t,i){},47:function(e,t,i){},53:function(e,t,i){},55:function(e,t,i){"use strict";i.r(t);var a=i(0),s=i.n(a),n=i(14),r=i.n(n),o=(i(46),i(19)),l=(i(47),i(63)),c=i(9),h=i(37),d=i(27),u=i(6),b=function e(t,i){var a=this;Object(d.a)(this,e),this.setBomb=function(){return a.value="B"},this.isBomb=function(){return"B"===a.value},this.toggleFlag=function(){a.revealed||(a.flag=!a.flag)},this.toggleVisited=function(){a.visited&&(a.visited=!1)},this.toggleSuperMan=function(){a.superman=!a.superman},this.toggleRevealed=function(){a.revealed||a.flag||(a.revealed=!0)},this.visited=!1,this.x=t,this.y=i,this.revealed=!1,this.flag=!1,this.value=0,this.superman=!1,Object(u.l)(this)},g=function e(){var t=this;Object(d.a)(this,e),this.height=5,this.width=5,this.board=[],this.numOfMines=3,this.numOfFlags=3,this.gameStatus="Normal",this.setHeight=function(e){t.height=e>300?300:e<1?1:e},this.setWidth=function(e){t.width=e>300?300:e<1?1:e},this.getBoardSize=function(){return t.height*t.width},this.setNumOfMines=function(e){e>t.getBoardSize()?t.numOfMines=t.getBoardSize():t.numOfMines=e<1?1:e},this.isBomb=function(e,i){return"B"===t.board[e][i].value},this.isZero=function(e,i){return 0===t.board[e][i].value},this.isVisited=function(e,i){return!0===t.board[e][i].visited},this.isFlag=function(e,i){return!0===t.board[e][i].flag},this.increaseBoardValue=function(e,i){t.board[e][i].value+=1},this.startGame=function(e,i,a){t.board=[],t.setHeight(e),t.setWidth(i),t.setNumOfMines(a),t.numOfFlags=t.numOfMines,t.gameStatus="Normal";for(var s=0;s<t.width;s++){for(var n=[],r=0;r<t.height;r++)n.push(new b(s,r));t.board.push(n)}t.deployMines(),t.setCellNeighbours()},this.unveilCell=function(e,i){if(e.shiftKey)t.flagClick(),t.checkIfWin();else{if(i.revealed&&i.isBomb())return;0===i.value?(t.revealConnectedCells(i),t.exposeZeroNeighbors()):i.toggleRevealed(),i.isBomb()?t.gameStatus="Lose":t.checkIfWin()}},this.flagClick=function(e,i,a){e.preventDefault(),i.revealed||(i.flag?(i.toggleFlag(),t.numOfFlags+=1):t.numOfFlags>0?(i.toggleFlag(),t.numOfFlags-=1,t.checkIfWin()):a(!0))},this.deployMines=function(){for(var e=[],i=0;i<t.getBoardSize();i++)e.push(i);for(var a,s=e.length-1,n=0;0!==s;)n=Math.floor(Math.random()*(s+1)),a=e[s],e[s]=e[n],e[n]=a,s--;var r=e.slice(0,t.numOfMines);r.sort((function(e,t){return e-t}));for(var o=0,l=0,c=0;c<t.width;c++)for(var h=0;h<t.height;h++)r[o]===l&&(o++,t.board[c][h].setBomb()),l++},this.setCellNeighbours=function(){for(var e=0;e<t.width;e++)for(var i=0;i<t.height;i++)t.isBomb(e,i)&&(e>0&&(t.isBomb(e-1,i)||t.increaseBoardValue(e-1,i),i>0&&!t.isBomb(e-1,i-1)&&t.increaseBoardValue(e-1,i-1),i<t.height-1&&!t.isBomb(e-1,i+1)&&t.increaseBoardValue(e-1,i+1)),e<t.width-1&&(t.isBomb(e+1,i)||t.increaseBoardValue(e+1,i),i>0&&!t.isBomb(e+1,i-1)&&t.increaseBoardValue(e+1,i-1),i<t.height-1&&!t.isBomb(e+1,i+1)&&t.increaseBoardValue(e+1,i+1)),i>0&&(t.isBomb(e,i-1)||t.increaseBoardValue(e,i-1)),i<t.height-1&&(t.isBomb(e,i+1)||t.increaseBoardValue(e,i+1)))},this.checkIfWin=function(){if(0===t.numOfFlags){for(var e=0;e<t.width;e++)for(var i=0;i<t.height;i++)if(t.isBomb(e,i)&&!t.isFlag(e,i)||!t.isBomb(e,i)&&t.isFlag(e,i))return;t.gameStatus="Win"}},this.solveBoard=function(){for(var e=0;e<t.width;e++)for(var i=0;i<t.height;i++)t.board[e][i].revealed=!0},this.revealAllEmpty=function(e,i){t.board[e][i].visited=!0;var a=[];if(t.isZero(e,i)&&!t.isBomb(e,i)&&!t.isFlag(e,i)&&!t.board[e][i].revealed)return t.board[e][i].revealed=!0,e>0&&(t.isZero(e-1,i)&&!t.isVisited(e-1,i)&&a.push(t.board[e-1][i]),i>0&&t.isZero(e-1,i-1)&&!t.isVisited(e-1,i-1)&&a.push(t.board[e-1][i-1]),i<t.height-1&&t.isZero(e-1,i+1)&&!t.isVisited(e-1,i+1)&&a.push(t.board[e-1][i+1])),e<t.width-1&&(t.isZero(e+1,i)&&!t.isVisited(e+1,i)&&a.push(t.board[e+1][i]),i>0&&t.isZero(e+1,i-1)&&!t.isVisited(e+1,i-1)&&a.push(t.board[e+1][i-1]),i<t.height-1&&t.isZero(e+1,i+1)&&!t.isVisited(e+1,i+1)&&a.push(t.board[e+1][i+1])),i>0&&t.isZero(e,i-1)&&!t.isVisited(e,i-1)&&a.push(t.board[e][i-1]),i<t.height-1&&t.isZero(e,i+1)&&!t.isVisited(e,i+1)&&a.push(t.board[e][i+1]),a},this.exposeZeroNeighbors=function(){for(var e=0;e<t.width;e++)for(var i=0;i<t.height;i++)t.isZero(e,i)&&!0===t.board[e][i].revealed&&(e>0&&(t.isBomb(e-1,i)||t.isFlag(e-1,i)||(t.board[e-1][i].revealed=!0),i>0&&!t.isBomb(e-1,i-1)&&!t.isFlag(e-1,i-1)&&(t.board[e-1][i-1].revealed=!0),i<t.height-1&&!t.isBomb(e-1,i+1)&&!t.isFlag(e-1,i+1)&&(t.board[e-1][i+1].revealed=!0)),e<t.width-1&&(t.isBomb(e+1,i)||t.isFlag(e+1,i)||(t.board[e+1][i].revealed=!0),i>0&&!t.isBomb(e+1,i-1)&&!t.isFlag(e+1,i-1)&&(t.board[e+1][i-1].revealed=!0),i<t.height-1&&!t.isBomb(e+1,i+1)&&!t.isFlag(e+1,i+1)&&(t.board[e+1][i+1].revealed=!0)),i>0&&(t.isBomb(e,i-1)||t.isFlag(e,i-1)||(t.board[e][i-1].revealed=!0)),i<t.height-1&&(t.isBomb(e,i+1)||t.isFlag(e,i+1)||(t.board[e][i+1].revealed=!0)));return t.board},this.supermanMode=function(){for(var e=0;e<t.width;e++)for(var i=0;i<t.height;i++)t.board[e][i].toggleSuperMan()},this.revealConnectedCells=function(e){for(var i=[e];i.length>0;){var a=i.pop();if(!a.visited){var s=t.revealAllEmpty(a.x,a.y);s.length>0&&(i=[].concat(Object(h.a)(i),Object(h.a)(s)))}}},Object(u.l)(this)},j=i(1),f=s.a.createContext();function m(){return Object(a.useContext)(f)}function O(e){var t=e.children,i=Object(c.d)((function(){return new g}));return Object(j.jsx)(f.Provider,{value:i,children:t})}var v=i(16),x=i(61),p=i(57);function B(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(x.a,{bg:"light",variant:"light",children:Object(j.jsx)(p.a,{children:Object(j.jsx)(x.a.Brand,{"data-testid":"navbar",href:"#",children:"Home"})})})})}var F=i(58),S=i(39),w=i(59),M=i(40),C=i(62);function W(e){var t=e.height,i=e.onChangeHeight,a=e.width,s=e.onChangeWidth,n=e.numOfMines,r=e.onChangeNumOfMines,o=e.numOfFlags,l=m();return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(p.a,{children:Object(j.jsxs)(F.a,{children:[Object(j.jsx)(S.a,{children:Object(j.jsxs)(F.a,{children:[Object(j.jsx)(w.a.Text,{"data-testid":"inputWidth",children:"Board Width"}),Object(j.jsx)(M.a,{placeholder:"Width",value:t,onChange:function(e){return i(e.target.value)},"aria-label":"Width"})]})}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(w.a.Text,{"data-testid":"inputHeight",children:"Board Height"}),Object(j.jsx)(M.a,{placeholder:"Height",value:a,onChange:function(e){return s(e.target.value)},"aria-label":"Height"})]}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(w.a.Text,{"data-testid":"numMines",children:"Number Of Mines"}),Object(j.jsx)(M.a,{placeholder:"Mines",value:n,onChange:function(e){return r(e.target.value)},"aria-label":"Mines"})]}),Object(j.jsxs)(S.a,{children:[Object(j.jsx)(w.a.Text,{"data-testid":"numFlags",children:"Number Of Flags"}),Object(j.jsx)(M.a,{placeholder:"Flags",value:o,"aria-label":"Mines",readOnly:!0})]}),Object(j.jsx)(S.a,{children:Object(j.jsx)(C.a,{children:Object(j.jsx)(C.a.Check,{id:"switchEnabled",type:"switch",label:"Super Mode",onClick:l.supermanMode})})})]})})})}i(53);var V=Object(v.a)((function(e){var t=e.cell,i=e.onRightMouseClick,a=e.onLeftMouseClick,s=t.revealed,n=t.flag,r=t.value,o=t.superman;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("td",{onContextMenu:i(t),onClick:a(t),children:o&&!s?n?Object(j.jsx)("img",{className:"img-trans",src:"flag.png",alt:"Flag"}):t.isBomb()?Object(j.jsx)("img",{className:"img-trans",src:"bomb.png",alt:"Bomb"}):Object(j.jsx)("img",{className:"img-trans",src:r+".png",alt:"Value"}):n?Object(j.jsx)("img",{src:"flag.png",alt:"Flag"}):s?t.isBomb()?Object(j.jsx)("img",{src:"bomb.png",alt:"Bomb"}):Object(j.jsx)("img",{src:r+".png",alt:"Value"}):Object(j.jsx)("img",{src:"question1.png",alt:"?"})})})})),N=i(38),k=i(60);function y(e){return Object(j.jsxs)(k.a,Object(N.a)(Object(N.a)({},e),{},{size:"lg",centered:!0,children:[Object(j.jsx)(k.a.Header,{children:Object(j.jsx)(k.a.Title,{id:"contained-modal-title-vcenter",children:e.title})}),Object(j.jsx)(k.a.Body,{children:Object(j.jsx)("p",{children:e.text})}),Object(j.jsx)(k.a.Footer,{children:Object(j.jsx)(l.a,{onClick:e.onHide,children:"Close"})})]}))}var L=Object(v.a)((function(e){var t=e.modalShowLose,i=e.setModalShowLose,a=e.modalShowWin,s=e.setModalShowWin,n=e.modalFlagShow,r=e.setModalFlagShow,o=m();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(y,{show:t,onHide:function(){i(!1),o.gameStatus="Lost"},title:"You Lost!",text:"You hit a bomb"}),Object(j.jsx)(y,{show:a,onHide:function(){s(!1),o.gameStatus="Won"},title:"You Won!",text:"You have found all the bombs!"}),Object(j.jsx)(y,{show:n,onHide:function(){r(!1)},title:"No Flags Left",text:"You have used all your flags. you cant place anymore flags on the map."})]})}));var H=Object(c.c)((function(){var e=m(),t=Object(a.useState)(!1),i=Object(o.a)(t,2),s=i[0],n=i[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),c=l[0],h=l[1],d=Object(a.useState)(!1),u=Object(o.a)(d,2),b=u[0],g=u[1];function f(t){return function(i){e.flagClick(i,t,g),"Win"===e.gameStatus&&(h(!0),e.solveBoard())}}function O(t){return function(i){e.unveilCell(i,t),"Lose"===e.gameStatus&&(n(!0),e.solveBoard()),"Win"===e.gameStatus&&(h(!0),e.solveBoard())}}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p.a,{className:"board-container",children:e.board.map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,t){return Object(j.jsx)(V,{onLeftMouseClick:O,onRightMouseClick:f,className:"cell-container",cell:e},t)}))},t)}))}),Object(j.jsx)(L,{modalShowLose:s,setModalShowLose:n,modalShowWin:c,setModalShowWin:h,modalFlagShow:b,setModalFlagShow:g})]})}));var Z=Object(v.a)((function(){var e,t=m(),i="200px";return e="Win"===t.gameStatus||"Won"===t.gameStatus?Object(j.jsx)("div",{children:Object(j.jsx)("img",{style:{maxWidth:i},src:"win.png",alt:"Win"})}):"Lose"===t.gameStatus||"Lost"===t.gameStatus?Object(j.jsx)("div",{children:Object(j.jsx)("img",{style:{maxWidth:i},src:"gameOver.png",alt:"Lost"})}):Object(j.jsx)("div",{children:Object(j.jsx)("img",{style:{maxWidth:i},src:"think.gif",alt:"Normal"})}),Object(j.jsx)(j.Fragment,{children:e})}));var T=Object(v.a)((function(){var e=m(),t=Object(a.useState)(5),i=Object(o.a)(t,2),s=i[0],n=i[1],r=Object(a.useState)(5),c=Object(o.a)(r,2),h=c[0],d=c[1],u=Object(a.useState)(3),b=Object(o.a)(u,2),g=b[0],f=b[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(B,{}),Object(j.jsx)(Z,{}),Object(j.jsx)(W,{height:s,onChangeHeight:n,width:h,onChangeWidth:d,numOfMines:g,onChangeNumOfMines:f,numOfFlags:e.numOfFlags}),Object(j.jsx)(l.a,{variant:"success",onClick:function(){e.startGame(s,h,g),n(e.height),d(e.width),f(e.numOfMines)},children:"Start Game"}),Object(j.jsx)(H,{})]})})),I=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,64)).then((function(t){var i=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;i(e),a(e),s(e),n(e),r(e)}))};i(54);r.a.render(Object(j.jsx)(O,{children:Object(j.jsx)(T,{})}),document.getElementById("root")),I()}},[[55,1,2]]]);
//# sourceMappingURL=main.2efc91c6.chunk.js.map